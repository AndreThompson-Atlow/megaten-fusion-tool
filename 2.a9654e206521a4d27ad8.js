(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+yUH":function(l,n,u){"use strict";u.d(n,"a",function(){return h});var t=u("CcnG"),i=u("aB+e"),e=u("DUID"),o=u("exs0"),r=u("U2KI"),s=u("ZYCi"),c=u("veAJ"),a=u("uoMG"),b=t.nb({encapsulation:2,styles:[],data:{}});function p(l){return t.Jb(2,[(l()(),t.pb(0,0,null,null,2,"app-fusion-trio-table",[],null,null,null,i.b,i.a)),t.Eb(4608,null,e.a,e.a,[[3,e.a]]),t.ob(2,8503296,null,0,o.a,[t.h],{rowData:[0,"rowData"],title:[1,"title"],leftHeader:[2,"leftHeader"],raceOrder:[3,"raceOrder"]},null)],function(l,n){var u=n.component;l(n,2,0,u.fusionTrios,"Result = "+u.currentDemon+" x Ingredient 2 x Ingredient 3","Result",u.chart.raceOrder)},null)}function f(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-triple-fusion-table",[],null,null,null,p,b)),t.ob(1,245760,null,0,r.a,[s.a,c.a,t.h,a.c],null,null)],function(l,n){l(n,1,0)},null)}var h=t.lb("app-triple-fusion-table",r.a,f,{},{},[])},"0ZaJ":function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=function(){return function(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0}}()},"0pc2":function(l,n,u){"use strict";u.d(n,"a",function(){return O});var t=u("CcnG"),i=u("JM3h"),e=u("GtKH"),o=u("JZP4"),r=u("DUID"),s=u("TzHT"),c=u("uoMG"),a=u("Ip0R"),b=u("TVja"),p=u("veAJ"),f=t.nb({encapsulation:2,styles:[],data:{}});function h(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,8,"table",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,3,"thead",[],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Special Fusion Condition"])),(l()(),t.pb(5,0,null,null,3,"tbody",[],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.pb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(8,null,["",""]))],null,function(l,n){l(n,8,0,n.component.fusionPrereq)})}function g(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-fusion-entry-table",[],null,null,null,i.b,i.a)),t.ob(1,49152,null,0,e.a,[],{title:[0,"title"],rowData:[1,"rowData"]},null)],function(l,n){var u=n.component;l(n,1,0,"Special Fusion Ingredients for "+u.currentDemon,u.fusionEntries)},null)}function d(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"app-fusion-pair-table",[],null,null,null,o.b,o.a)),t.Eb(4608,null,r.a,r.a,[[3,r.a]]),t.ob(2,49152,null,0,s.a,[c.a],{rowData:[0,"rowData"],title:[1,"title"]},null)],function(l,n){var u=n.component;l(n,2,0,u.fusionPairs,"Ingredient 1 x Ingredient 2 = "+u.currentDemon)},null)}function m(l){return t.Jb(2,[(l()(),t.gb(16777216,null,null,1,null,h)),t.ob(1,16384,null,0,a.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,g)),t.ob(3,16384,null,0,a.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,d)),t.ob(5,16384,null,0,a.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,1,0,u.fusionPrereq),l(n,3,0,u.fusionEntries.length),l(n,5,0,u.fusionPairs.length||!u.fusionPrereq&&!u.fusionEntries.length)},null)}function v(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-smt-fission-table",[],null,null,null,m,f)),t.ob(1,245760,null,0,b.a,[p.a,t.h,c.b],null,null)],function(l,n){l(n,1,0)},null)}var O=t.lb("app-smt-fission-table",b.a,v,{},{},[])},"31bM":function(l,n,u){"use strict";u.d(n,"a",function(){return i});var t=u("wY2c"),i=(u("veAJ"),function(){function l(l,n,u,i){var e=this;this.route=l,this.currentDemonService=n,this.changeDetectorRef=u,this.fusionTrioService=i,this.subscriptions=[],this.fissionTrios=[],this.toDemonTrio=function(l){return Object(t.a)(l,e.compendium)},this.sortDemonTrio=function(l,n){return l.price-n.price}}return l.prototype.ngOnInit=function(){var l=this;this.calculator=this.fusionTrioService.triFissionCalculator,this.subscriptions.push(this.fusionTrioService.compendium.subscribe(function(n){l.compendium=n,l.getFissions()})),this.subscriptions.push(this.fusionTrioService.squareChart.subscribe(function(n){l.chart=n,l.getFissions()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(function(n){l.currentDemon=n,l.getFissions()}))},l.prototype.ngOnDestroy=function(){for(var l=0,n=this.subscriptions;l<n.length;l++)n[l].unsubscribe()},l.prototype.getFissions=function(){var l=this;if(this.compendium&&this.chart&&this.currentDemon){this.changeDetectorRef.markForCheck();for(var n={},u=0,t=this.calculator.getFusions(this.currentDemon,this.compendium,this.chart).map(this.toDemonTrio);u<t.length;u++)for(var i=t[u],e=0,o=[i.d1.name,i.d2.name,i.d3.name];e<o.length;e++){var r=o[e];n[r]||(n[r]=[]),n[r].push(i)}for(var s=0,c=Object.values(n);s<c.length;s++)c[s].sort(this.sortDemonTrio);this.fissionTrios=Object.entries(n).map(function(n){return{demon:l.compendium.getDemon(n[0]),minPrice:n[1][0].price,fusions:n[1]}})}},l}())},"7gfQ":function(l,n,u){"use strict";u.d(n,"a",function(){return e}),u.d(n,"b",function(){return b});var t=u("CcnG"),i=u("Ip0R"),e=(u("Ck8i"),u("ZYjt"),u("ZYCi"),t.nb({encapsulation:0,styles:["table[_ngcontent-%COMP%] { width: auto; margin: 0 auto; }\n    th.title[_ngcontent-%COMP%] { height: 2em; }\n    td.elem[_ngcontent-%COMP%] { color: lime; }\n    td.trip[_ngcontent-%COMP%] { color: lightgray; }\n    td.ra-2[_ngcontent-%COMP%] { color: orange; }\n    td.ra-1[_ngcontent-%COMP%] { color: red; }\n    td.ran1[_ngcontent-%COMP%] { color: lime; }\n    td.ran2[_ngcontent-%COMP%] { color: cyan; }\n    td.None[_ngcontent-%COMP%] { color: transparent; }\n    td.Sala[_ngcontent-%COMP%], td.Flae[_ngcontent-%COMP%], td.Ara[_ngcontent-%COMP%], td.Fien[_ngcontent-%COMP%] { color: red; }\n    td.Undi[_ngcontent-%COMP%], td.Aqua[_ngcontent-%COMP%], td.Nigi[_ngcontent-%COMP%], td.Enig[_ngcontent-%COMP%] { color: cyan; }\n    td.Sylp[_ngcontent-%COMP%], td.Aero[_ngcontent-%COMP%], td.Kusi[_ngcontent-%COMP%], td.UMA[_ngcontent-%COMP%]  { color: lime; }\n    td.Gnom[_ngcontent-%COMP%], td.Erth[_ngcontent-%COMP%], td.Saki[_ngcontent-%COMP%], td.Rand[_ngcontent-%COMP%] { color: orange; }\n    td.Empt[_ngcontent-%COMP%] { background-color: black; color: transparent; }"],data:{}}));function o(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(1,null,["",""]))],null,function(l,n){var u=n.context.$implicit.slice(0,4);l(n,1,0,u)})}function r(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,3,"td",[],null,null,null,null,null)),t.ob(1,278528,null,0,i.i,[t.s,t.t,t.k,t.D],{ngClass:[0,"ngClass"]},null),t.Ab(2,2),(l()(),t.Hb(3,null,["",""]))],function(l,n){var u=l(n,2,0,n.context.$implicit.slice(0,4),n.context.$implicit.slice(4,8));l(n,1,0,u)},function(l,n){var u=n.context.$implicit.slice(4,8);l(n,3,0,u)})}function s(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(2,null,["",""])),(l()(),t.gb(16777216,null,null,1,null,r)),t.ob(4,278528,null,0,i.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(6,null,["",""]))],function(l,n){var u=n.context.$implicit.slice(1,n.context.$implicit.length-1);l(n,4,0,u)},function(l,n){l(n,2,0,n.context.$implicit[0]),l(n,6,0,n.context.$implicit[n.context.$implicit.length-1])})}function c(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(1,null,["",""]))],null,function(l,n){var u=n.context.$implicit.slice(0,4);l(n,1,0,u)})}function a(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"th",[["class","title"]],[[1,"colspan",0]],null,null,null,null)),(l()(),t.Hb(2,null,[""," - ",""]))],null,function(l,n){var u=n.component;l(n,1,0,u.table[0].length),l(n,2,0,u.appName,u.tripTitle)})}function b(l){return t.Jb(2,[(l()(),t.pb(0,0,null,null,15,"table",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,13,"tbody",[],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,1,"th",[["class","title"]],[[1,"colspan",0]],null,null,null,null)),(l()(),t.Hb(4,null,[""," - ",""])),(l()(),t.pb(5,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,o)),t.ob(7,278528,null,0,i.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(16777216,null,null,1,null,s)),t.ob(9,278528,null,0,i.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(10,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,c)),t.ob(12,278528,null,0,i.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(16777216,null,null,1,null,a)),t.ob(14,16384,null,0,i.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(15,0,null,null,0,"tbody",[],null,null,null,null,null))],function(l,n){var u=n.component;l(n,7,0,u.table[0]),l(n,9,0,u.table.slice(1,u.table.length-1)),l(n,12,0,u.table[u.table.length-1]),l(n,14,0,u.tripTitle)},function(l,n){var u=n.component;l(n,3,0,u.table[0].length),l(n,4,0,u.appName,u.normTitle)})}},CRJH:function(l,n,u){"use strict";u.d(n,"a",function(){return h});var t=u("CcnG"),i=u("aB+e"),e=u("DUID"),o=u("exs0"),r=u("31bM"),s=u("ZYCi"),c=u("veAJ"),a=u("uoMG"),b=t.nb({encapsulation:2,styles:[],data:{}});function p(l){return t.Jb(2,[(l()(),t.pb(0,0,null,null,2,"app-fusion-trio-table",[],null,null,null,i.b,i.a)),t.Eb(4608,null,e.a,e.a,[[3,e.a]]),t.ob(2,8503296,null,0,o.a,[t.h],{rowData:[0,"rowData"],title:[1,"title"],raceOrder:[2,"raceOrder"]},null)],function(l,n){var u=n.component;l(n,2,0,u.fissionTrios,"Ingredient 1 x Ingredient 2 x Ingredient 3 = "+u.currentDemon,u.chart.raceOrder)},null)}function f(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-triple-fission-table",[],null,null,null,p,b)),t.ob(1,245760,null,0,r.a,[s.a,c.a,t.h,a.c],null,null)],function(l,n){l(n,1,0)},null)}var h=t.lb("app-triple-fission-table",r.a,f,{},{},[])},Ck8i:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=function(){function l(l,n){this.title2=l,this.route=n,this.normTitle="Normal Fusions",this.tripTitle="",this.isPersona=!1,this.filterDarks=!0,this.subscriptions=[],this.table=[]}return l.prototype.ngOnInit=function(){var l=this;this.subscriptions.push(this.route.parent.data.subscribe(function(n){l.appName=n.appName||"Shin Megami Tensei",l.title2.setTitle("Fusion Chart - "+l.appName+" Fusion Calculator")}))},l.prototype.ngOnChanges=function(){this.normChart&&this.fillFusionChart()},l.prototype.ngOnDestroy=function(){for(var l=0,n=this.subscriptions;l<n.length;l++)n[l].unsubscribe()},l.prototype.fillFusionChart=function(){var l=this,n=this.normChart.elementDemons,u=[],t=this.normChart.races,i=[];this.filterDarks&&(u=this.normChart.races.filter(function(n){return 1===l.normChart.getLightDark(n)}),t=this.normChart.races.filter(function(n){return 0===l.normChart.getLightDark(n)}),i=this.normChart.races.filter(function(n){return-1===l.normChart.getLightDark(n)}));var e=u.length-i.length,o=u.concat(t,n),r=i.length?i.concat(Array(o.length-i.length).fill("")):o,s=this.mitaTable?o:u.concat(t,Array(n.length).fill("")),c=this.mitaTable||i.length?Array(e).fill("").concat(i,t,n):o;this.table=[[""].concat(o,[""])];for(var a=0;a<c.length;a++){var b=Array(o.length+2).fill("Empt-"),p=c[a],f=s[a],h=-1!==n.indexOf(p),g=-1!==n.indexOf(f);this.table.push(b),b[0]=p,b[b.length-1]=f;for(var d=a;d<o.length;d++){var m=o[d],v=-1!==n.indexOf(m);if(v&&g){var O=n.indexOf(f),k=n.indexOf(m);b[d+1]="mita"+((F=this.mitaTable[O][k-O-1])||"None")}else if(v&&f){var C=(F=this.normChart.getElemFusions(m)[f])?F.toString():"";b[d+1]=F?(F>0?"ran"+C+"+":"ra"+C)+C:"rankNone"}else if(m&&f){var F=this.isPersona&&m===f?m:this.normChart.getRaceFusion(m,f);b[d+1]=(m===f?"elem":"norm")+(F||"None")}}if(this.tripChart)for(d=0;d<=a-e;d++)(I=r[d])&&h?(C=(F=this.tripChart.getElemFusions(p)[I])?F.toString():"",b[d+1]=F?(F>0?"ran"+C+"+":"ra"+C)+C:"rankNone"):I&&p&&(F=this.tripChart.getRaceFusion(I,p),b[d+1]=(I===p?"elem":"trip")+(F||"None"));if(-1!==p.indexOf(" x ")){var H=p.split(" x "),I=H[1],x=H[0].slice(0,3)+"x"+I.slice(0,3);b[0]=x,b[b.length-1]=x}else-1!==p.indexOf(" ")&&(x=p.split(" ")[0],b[0]=x,b[b.length-1]=x)}for(d=0;d<this.table[0].length;d++){var D=this.table[0][d];if(-1!==D.indexOf(" x ")){var y=D.split(" x ");I=y[1],this.table[0][d]=y[0].slice(0,2)+I.slice(0,2)}}this.table.push([""].concat(r,[""]))},l}()},Hz2L:function(l,n,u){"use strict";u.d(n,"a",function(){return t}),u("UXxn");var t=function(){function l(){this.hasTripleFusion=!1,this.showFusionAlert=!1,this.excludedDlc=!1,this.fusionOptions=l.NORMAL_FUSIONS}return l.prototype.ngOnInit=function(){this.fusionOptions=this.hasTripleFusion?l.TRIPLE_FUSIONS:l.NORMAL_FUSIONS},l.prototype.ngOnChanges=function(){var l=this;setTimeout(function(){return l.stickyTable.nextEdges()})},l.NORMAL_FUSIONS=[{title:"Reverse Fusions",link:"fissions"},{title:"Forward Fusions",link:"fusions"}],l.TRIPLE_FUSIONS=[{title:"Normal Reverse Fusions",link:"fissions"},{title:"Triple Reverse Fusions",link:"fissions/triple"},{title:"Triple Forward Fusions",link:"fusions/triple"},{title:"Normal Forward Fusions",link:"fusions"}],l}()},LVD6:function(l,n,u){"use strict";u.d(n,"a",function(){return s}),u.d(n,"b",function(){return p});var t=u("CcnG"),i=u("ZYCi"),e=u("Ip0R"),o=u("UXxn"),r=u("DUID"),s=(u("Hz2L"),t.nb({encapsulation:2,styles:[],data:{}}));function c(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,8,"th",[["class","nav"],["routerLinkActive","active"]],[[4,"width","%"]],null,null,null,null)),t.ob(1,1720320,null,2,i.p,[i.o,t.k,t.D,t.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.Fb(603979776,2,{links:1}),t.Fb(603979776,3,{linksWithHrefs:1}),t.Cb(4,{exact:0}),(l()(),t.pb(5,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var i=!0;return"click"===n&&(i=!1!==t.zb(l,7).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&i),i},null,null)),t.ob(7,671744,[[3,4]],0,i.q,[i.o,i.a,e.h],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(8,null,["",""]))],function(l,n){var u=l(n,4,0,!0);l(n,1,0,u,"active"),l(n,7,0,t.rb(1,"",n.context.$implicit.link,""))},function(l,n){l(n,0,0,100/n.component.fusionOptions.length),l(n,6,0,t.zb(n,7).target,t.zb(n,7).href),l(n,8,0,n.context.$implicit.title)})}function a(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"th",[],[[1,"colspan",0]],null,null,null,null)),(l()(),t.Hb(-1,null,[" DLC marked as excluded in fusion settings, results may be inaccurate! "]))],null,function(l,n){l(n,1,0,n.component.fusionOptions.length)})}function b(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"th",[],[[1,"colspan",0]],null,null,null,null)),t.yb(null,0)],null,function(l,n){l(n,1,0,n.component.fusionOptions.length)})}function p(l){return t.Jb(2,[t.Fb(402653184,1,{stickyTable:0}),(l()(),t.pb(1,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t.pb(2,0,[["stickyTable",1]],null,11,"table",[["appPositionSticky",""]],[[2,"position-sticky",null],[4,"zIndex",null]],null,null,null,null)),t.ob(3,212992,[[1,4]],0,o.a,[t.k,t.D,r.a],null,null),(l()(),t.pb(4,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),t.pb(5,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,c)),t.ob(7,278528,null,0,e.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(16777216,null,null,1,null,a)),t.ob(9,16384,null,0,e.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(10,0,null,null,0,"tr",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,b)),t.ob(12,16384,null,0,e.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(13,0,null,null,0,"tr",[],null,null,null,null,null)),(l()(),t.pb(14,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.ob(15,212992,null,0,i.s,[i.b,t.O,t.j,[8,null],t.h],null,null)],function(l,n){var u=n.component;l(n,3,0),l(n,7,0,u.fusionOptions),l(n,9,0,u.excludedDlc),l(n,12,0,u.showFusionAlert),l(n,15,0)},function(l,n){l(n,2,0,t.zb(n,3).cPositionSticky,t.zb(n,3).sZIndex)})}},NcuS:function(l,n,u){"use strict";u.d(n,"a",function(){return f});var t=u("CcnG"),i=u("JZP4"),e=u("DUID"),o=u("TzHT"),r=u("uoMG"),s=u("GVDr"),c=u("veAJ"),a=t.nb({encapsulation:2,styles:[],data:{}});function b(l){return t.Jb(2,[(l()(),t.pb(0,0,null,null,2,"app-fusion-pair-table",[],null,null,null,i.b,i.a)),t.Eb(4608,null,e.a,e.a,[[3,e.a]]),t.ob(2,49152,null,0,o.a,[r.a],{rowData:[0,"rowData"],leftHeader:[1,"leftHeader"],rightHeader:[2,"rightHeader"],title:[3,"title"]},null)],function(l,n){var u=n.component;l(n,2,0,u.fusionPairs,"Ingredient 2","Result",u.currentDemon+" x Ingredient 2 = Result")},null)}function p(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-smt-fusion-table",[],null,null,null,b,a)),t.ob(1,245760,null,0,s.a,[c.a,t.h,r.b],null,null)],function(l,n){l(n,1,0)},null)}var f=t.lb("app-smt-fusion-table",s.a,p,{},{},[])},U2KI:function(l,n,u){"use strict";u.d(n,"a",function(){return i});var t=u("wY2c"),i=(u("veAJ"),function(){function l(l,n,u,i){var e=this;this.route=l,this.currentDemonService=n,this.changeDetectorRef=u,this.fusionTrioService=i,this.subscriptions=[],this.fusionTrios=[],this.toDemonTrio=function(l){return Object(t.b)(l,e.compendium)},this.sortDemonTrio=function(l,n){return l.price-n.price}}return l.prototype.ngOnInit=function(){var l=this;this.calculator=this.fusionTrioService.triFusionCalculator,this.subscriptions.push(this.fusionTrioService.compendium.subscribe(function(n){l.compendium=n,l.getFusions()})),this.subscriptions.push(this.fusionTrioService.squareChart.subscribe(function(n){l.chart=n,l.getFusions()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(function(n){l.currentDemon=n,l.getFusions()}))},l.prototype.ngOnDestroy=function(){for(var l=0,n=this.subscriptions;l<n.length;l++)n[l].unsubscribe()},l.prototype.getFusions=function(){var l=this;if(this.compendium&&this.chart&&this.currentDemon){this.changeDetectorRef.markForCheck();for(var n={},u=0,t=this.calculator.getFusions(this.currentDemon,this.compendium,this.chart).map(this.toDemonTrio);u<t.length;u++){var i=t[u];n[i.d3.name]||(n[i.d3.name]=[]),n[i.d3.name].push(i)}for(var e=0,o=Object.values(n);e<o.length;e++)o[e].sort(this.sortDemonTrio);this.fusionTrios=Object.entries(n).map(function(n){return{demon:l.compendium.getDemon(n[0]),minPrice:n[1][0].price,fusions:n[1]}})}},l}())},"aB+e":function(l,n,u){"use strict";u.d(n,"a",function(){return O}),u.d(n,"b",function(){return F});var t=u("CcnG"),i=u("ZYCi"),e=u("Ip0R"),o=u("exs0"),r=u("UXxn"),s=u("DUID"),c=u("VomF"),a=t.nb({encapsulation:2,styles:[],data:{}});function b(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"th",[["class","nav"]],[[4,"height","em"]],[[null,"click"]],function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.toggleShowing.emit(i.showIndex)&&t),t},null,null)),(l()(),t.Hb(-1,null,[" Show "])),(l()(),t.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(4,null,["",""])),(l()(),t.pb(5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(6,null,["",""])),(l()(),t.pb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(8,null,["",""])),(l()(),t.pb(9,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.pb(10,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var i=!0;return"click"===n&&(i=!1!==t.zb(l,11).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&i),i},null,null)),t.ob(11,671744,null,0,i.q,[i.o,i.a,e.h],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(12,null,["",""])),(l()(),t.pb(13,0,null,null,1,"td",[["colspan","6"]],[[4,"color",null]],null,null,null,null)),(l()(),t.Hb(14,null,[""," recipes hidden"]))],function(l,n){var u=n.component;l(n,11,0,t.rb(2,"",u.baseUrl,"/",u.trio.demon.name,""))},function(l,n){var u=n.component;l(n,1,0,1),l(n,4,0,u.trio.minPrice),l(n,6,0,u.trio.demon.race),l(n,8,0,u.trio.demon.lvl),l(n,10,0,t.zb(n,11).target,t.zb(n,11).href),l(n,12,0,u.trio.demon.name),l(n,13,0,"#666"),l(n,14,0,u.trio.fusions.length)})}function p(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,8,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(2,null,["",""])),(l()(),t.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(4,null,["",""])),(l()(),t.pb(5,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var i=!0;return"click"===n&&(i=!1!==t.zb(l,7).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&i),i},null,null)),t.ob(7,671744,null,0,i.q,[i.o,i.a,e.h],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(8,null,["",""]))],function(l,n){l(n,7,0,t.rb(2,"",n.component.baseUrl,"/",n.parent.context.$implicit.name,""))},function(l,n){l(n,2,0,n.parent.context.$implicit.race),l(n,4,0,n.parent.context.$implicit.lvl),l(n,6,0,t.zb(n,7).target,t.zb(n,7).href),l(n,8,0,n.parent.context.$implicit.name)})}function f(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,p)),t.ob(2,16384,null,0,e.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(0,null,null,0))],function(l,n){l(n,2,0,n.component.trio.demon!==n.context.$implicit)},null)}function h(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(2,null,["",""])),(l()(),t.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(4,null,["",""])),(l()(),t.pb(5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(6,null,["",""])),(l()(),t.pb(7,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.pb(8,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var i=!0;return"click"===n&&(i=!1!==t.zb(l,9).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&i),i},null,null)),t.ob(9,671744,null,0,i.q,[i.o,i.a,e.h],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(10,null,["",""])),(l()(),t.gb(16777216,null,null,2,null,f)),t.ob(12,278528,null,0,e.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),t.Ab(13,3)],function(l,n){var u=n.component;l(n,9,0,t.rb(2,"",u.baseUrl,"/",u.trio.demon.name,""));var i=l(n,13,0,n.context.$implicit.d1,n.context.$implicit.d2,n.context.$implicit.d3);l(n,12,0,i)},function(l,n){var u=n.component;l(n,2,0,n.context.$implicit.price),l(n,4,0,u.trio.demon.race),l(n,6,0,u.trio.demon.lvl),l(n,8,0,t.zb(n,9).target,t.zb(n,9).href),l(n,10,0,u.trio.demon.name)})}function g(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,5,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,1,"th",[["class","nav active"]],[[4,"height","em"],[1,"rowspan",0]],[[null,"click"]],function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.toggleShowing.emit(i.showIndex)&&t),t},null,null)),(l()(),t.Hb(-1,null,[" Hide "])),(l()(),t.gb(16777216,null,null,1,null,h)),t.ob(5,278528,null,0,e.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(0,null,null,0))],function(l,n){l(n,5,0,n.component.trio.fusions)},function(l,n){l(n,2,0,1,n.component.trio.fusions.length+1)})}function d(l){return t.Jb(2,[(l()(),t.gb(16777216,null,null,1,null,b)),t.ob(1,16384,null,0,e.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,g)),t.ob(3,16384,null,0,e.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,1,0,!u.showing),l(n,3,0,u.showing)},null)}var m=t.nb({encapsulation:0,styles:["span[_ngcontent-%COMP%] {\n      color: transparent;\n    }"],data:{}});function v(l){return t.Jb(2,[(l()(),t.pb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"th",[["colspan","11"]],null,null,null,null,null)),(l()(),t.Hb(2,null,["",""])),(l()(),t.pb(3,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.pb(4,0,null,null,1,"th",[["class","sortable"],["rowspan","2"]],[[4,"width","%"]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleHideAll()&&t),t},null,null)),(l()(),t.Hb(-1,null,["Hide All"])),(l()(),t.pb(6,0,null,null,3,"th",[["rowSpan","2"]],[[4,"width","%"]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.nextSortFunIndex(1)&&t),t},null,null)),t.ob(7,278528,null,0,e.i,[t.s,t.t,t.k,t.D],{ngClass:[0,"ngClass"]},null),t.Ab(8,2),(l()(),t.Hb(-1,null,["Price"])),(l()(),t.pb(10,0,null,null,1,"th",[["colspan","3"]],[[4,"width","%"]],null,null,null,null)),(l()(),t.Hb(11,null,["",""])),(l()(),t.pb(12,0,null,null,1,"th",[["colspan","3"]],[[4,"width","%"]],null,null,null,null)),(l()(),t.Hb(-1,null,["Ingredient 2"])),(l()(),t.pb(14,0,null,null,1,"th",[["colspan","3"]],[[4,"width","%"]],null,null,null,null)),(l()(),t.Hb(-1,null,["Ingredient 3"])),(l()(),t.pb(16,0,null,null,26,"tr",[],null,null,null,null,null)),(l()(),t.pb(17,0,null,null,3,"th",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.nextSortFunIndex(2)&&t),t},null,null)),t.ob(18,278528,null,0,e.i,[t.s,t.t,t.k,t.D],{ngClass:[0,"ngClass"]},null),t.Ab(19,2),(l()(),t.Hb(-1,null,["Race"])),(l()(),t.pb(21,0,null,null,5,"th",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.nextSortFunIndex(3)&&t),t},null,null)),t.ob(22,278528,null,0,e.i,[t.s,t.t,t.k,t.D],{ngClass:[0,"ngClass"]},null),t.Ab(23,2),(l()(),t.Hb(-1,null,["Lvl"])),(l()(),t.pb(25,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["--"])),(l()(),t.pb(27,0,null,null,3,"th",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.nextSortFunIndex(4)&&t),t},null,null)),t.ob(28,278528,null,0,e.i,[t.s,t.t,t.k,t.D],{ngClass:[0,"ngClass"]},null),t.Ab(29,2),(l()(),t.Hb(-1,null,["Name"])),(l()(),t.pb(31,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Race"])),(l()(),t.pb(33,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Lvl"])),(l()(),t.pb(35,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Name"])),(l()(),t.pb(37,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Race"])),(l()(),t.pb(39,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Lvl"])),(l()(),t.pb(41,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Name"]))],function(l,n){var u=n.component,t=l(n,8,0,"sortable",u.sortDirClass(1));l(n,7,0,t);var i=l(n,19,0,"sortable",u.sortDirClass(2));l(n,18,0,i);var e=l(n,23,0,"sortable",u.sortDirClass(3));l(n,22,0,e);var o=l(n,29,0,"sortable",u.sortDirClass(4));l(n,28,0,o)},function(l,n){var u=n.component;l(n,2,0,u.title),l(n,4,0,8),l(n,6,0,8),l(n,10,0,28),l(n,11,0,u.leftHeader),l(n,12,0,28),l(n,14,0,28)})}var O=t.nb({encapsulation:2,styles:[],data:{}});function k(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,3,"tbody",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,1,"td",[["colspan","10"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["No fusions found!"]))],null,null)}function C(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"tbody",[["class","app-fusion-trio-table-row"]],null,[[null,"toggleShowing"]],function(l,n,u){var t=!0;return"toggleShowing"===n&&(t=!1!==l.component.toggleShowing(u)&&t),t},d,a)),t.ob(1,49152,null,0,o.c,[],{trio:[0,"trio"],showing:[1,"showing"],showIndex:[2,"showIndex"]},{toggleShowing:"toggleShowing"})],function(l,n){l(n,1,0,n.context.$implicit,n.component.showing[n.context.index],n.context.index)},null)}function F(l){return t.Jb(2,[t.Fb(402653184,1,{stickyTable:0}),t.Fb(402653184,2,{stickyHeader:0}),t.Fb(402653184,3,{hiddenHeader:0}),(l()(),t.pb(3,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),t.pb(4,0,null,null,4,"table",[["appPositionSticky",""]],[[2,"position-sticky",null],[4,"zIndex",null]],null,null,null,null)),t.ob(5,212992,[[1,4]],0,r.a,[t.k,t.D,s.a],null,null),(l()(),t.pb(6,0,null,null,2,"tfoot",[["appColumnWidths",""],["class","app-fusion-trio-table-header"]],null,[[null,"hideAll"],[null,"sortFunIndexChanged"]],function(l,n,u){var t=!0,i=l.component;return"hideAll"===n&&(t=!1!==i.toggleHideAll()&&t),"sortFunIndexChanged"===n&&(t=!1!==(i.sortFunIndex=u)&&t),t},v,m)),t.ob(7,16384,[[2,4]],0,c.a,[t.k,t.D],null,null),t.ob(8,49152,[["stickyHeader",4]],0,o.b,[],{sortFunIndex:[0,"sortFunIndex"],title:[1,"title"],leftHeader:[2,"leftHeader"]},{sortFunIndexChanged:"sortFunIndexChanged",hideAll:"hideAll"}),(l()(),t.pb(9,0,null,null,7,"table",[],null,null,null,null,null)),(l()(),t.pb(10,0,null,null,2,"tfoot",[["appColumnWidths",""],["class","app-fusion-trio-table-header"]],[[4,"visibility",null]],null,null,v,m)),t.ob(11,16384,[[3,4]],0,c.a,[t.k,t.D],null,null),t.ob(12,49152,[["hiddenHeader",4]],0,o.b,[],{title:[0,"title"],leftHeader:[1,"leftHeader"]},null),(l()(),t.gb(16777216,null,null,1,null,k)),t.ob(14,16384,null,0,e.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,C)),t.ob(16,278528,null,0,e.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,5,0),l(n,8,0,u.sortFunIndex,u.title,u.leftHeader),l(n,12,0,u.title,u.leftHeader),l(n,14,0,!u.rowData.length),l(n,16,0,u.rowData)},function(l,n){l(n,4,0,t.zb(n,5).cPositionSticky,t.zb(n,5).sZIndex),l(n,10,0,"collapse")})}},cg0H:function(l,n,u){"use strict";u.d(n,"a",function(){return e}),u.d(n,"b",function(){return f});var t=u("CcnG"),i=u("Ip0R"),e=(u("0ZaJ"),t.nb({encapsulation:2,styles:[],data:{}}));function o(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Price"]))],null,null)}function r(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function s(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Inherits"]))],null,null)}function c(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function a(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.price)})}function b(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function p(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),t.Hb(2,null,["",""]))],null,function(l,n){var u=n.component;l(n,1,0,t.rb(1,"element-icon ",u.inherit,"")),l(n,2,0,u.inherit)})}function f(l){return t.Jb(2,[(l()(),t.pb(0,0,null,null,22,"table",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,12,"thead",[],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,1,"th",[],[[1,"colSpan",0]],null,null,null,null)),(l()(),t.Hb(4,null,[" "," "])),(l()(),t.pb(5,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,o)),t.ob(7,16384,null,0,i.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,r)),t.ob(9,278528,null,0,i.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(16777216,null,null,1,null,s)),t.ob(11,16384,null,0,i.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,c)),t.ob(13,278528,null,0,i.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(14,0,null,null,8,"tbody",[],null,null,null,null,null)),(l()(),t.pb(15,0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,a)),t.ob(17,16384,null,0,i.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,b)),t.ob(19,278528,null,0,i.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(16777216,null,null,1,null,p)),t.ob(21,16384,null,0,i.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),t.yb(null,0)],function(l,n){var u=n.component;l(n,7,0,u.price),l(n,9,0,u.statHeaders),l(n,11,0,u.inherit),l(n,13,0,u.fusionHeaders),l(n,17,0,u.price),l(n,19,0,u.stats),l(n,21,0,u.inherit)},function(l,n){var u=n.component;l(n,3,0,u.stats.length+u.fusionHeaders.length+(u.inherit?1:0)+(u.price?1:0)),l(n,4,0,u.title)})}},exs0:function(l,n,u){"use strict";u.d(n,"c",function(){return o}),u.d(n,"b",function(){return r}),u.d(n,"a",function(){return s});var t=u("mrSG"),i=u("CcnG"),e=u("TSRo"),o=function(){return function(){this.baseUrl="../../..",this.toggleShowing=new i.m}}(),r=function(l){function n(){var n=null!==l&&l.apply(this,arguments)||this;return n.hideAll=new i.m,n}return t.c(n,l),n.prototype.toggleHideAll=function(){this.hideAll.emit(!0)},n}(e.b),s=function(l){function n(n){var u=l.call(this)||this;return u.changeDetector=n,u.title="Fusion Trio Table",u.leftHeader="Ingredient 1",u.showing=[],u.sortFuns=[],u}return t.c(n,l),n.prototype.ngOnInit=function(){this.nextSortFuns()},n.prototype.ngAfterViewChecked=function(){this.matchColWidths()},n.prototype.toggleShowing=function(l){this.showing[l]=!this.showing[l]},n.prototype.toggleHideAll=function(){for(var l=0;l<this.showing.length;l++)this.showing[l]=!1},n.prototype.nextSortFuns=function(){var l=this;this.sortFuns=[],this.raceOrder&&(this.sortFuns.push(function(l,n){return l.minPrice-n.minPrice},function(l,n){return l.minPrice-n.minPrice},function(n,u){return 200*(l.raceOrder[n.demon.race]-l.raceOrder[u.demon.race])+n.demon.lvl-u.demon.lvl},function(l,n){return l.demon.lvl-n.demon.lvl},function(l,n){return l.demon.name.localeCompare(n.demon.name)}),this.sort())},n.prototype.getSortFun=function(l){return this.sortFuns[l]},n}(e.a)}}]);